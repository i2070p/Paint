{% extends 'MainBundle::main.html.twig' %}

{% block head %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/shapes/ShapeFactory.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/Style.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/Point.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/CanvasAdapter.js') }}" type="text/javascript"></script>    
    <script src="{{ asset('bundles/framework/javascripts/shapes/DrawEllipse.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/shapes/DrawAnyShape.js') }}" type="text/javascript"></script>    
    <script src="{{ asset('bundles/framework/javascripts/shapes/DrawLine.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/Drawer.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/framework/javascripts/runner.js') }}"></script>
{% endblock %}

{% block title 'Draw' %}
    {% block header 'Your Account' %}

        {% block para %}
            You can draw here ...
        {% endblock %}

        {% block content %}


            <script>
                window.onload = init;
            </script>

            <canvas id="canvas" width="800" height="400"></canvas>
            <br /><br />
            <button onclick="javascript:clearArea();
                    return false;">Clear Area</button>
            <button onclick="javascript:load();
                    return false;">Load</button>
            <button onclick="javascript:saveImage('{{ path('account_image_save') }}');
                    return false;">Save</button>
            Line width : <select id="selWidth">
                <option value="1">1</option>
                <option value="3">3</option>
                <option value="5">5</option>
                <option value="7">7</option>
                <option value="9" selected="selected">9</option>
                <option value="11">11</option>

            </select>
            Color : <select id="selColor">
                <option value="black">black</option>
                <option value="blue" selected="selected">blue</option>
                <option value="red">red</option>
                <option value="green">green</option>
                <option value="yellow">yellow</option>
                <option value="gray">gray</option>
            </select>
            Mode : <select id="selMode">
                <option value="Line">Line</option>
                <option value="Ellipse" selected="selected">Ellipse</option>
            </select>
            <a href="#" class="button" id="btn-download" download="my-file-name.png"><b>Download</b></a>

            <script>
                var button = document.getElementById('btn-download');
                button.addEventListener('click', function (e) {
                    var dataURL = canvas.toDataURL('image/png');
                    button.href = dataURL;
                });
            </script>

        {% endblock %}
